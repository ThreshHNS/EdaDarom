{"version":3,"sources":["img/rating.png","img/pizza.png","img/person.png","img/home.png","utils/updateObject.js","utils/getGeoInfo.js","utils/axios.js","utils/moment.js","store/actions/food.js","store/actions/actionTypes.js","panels/main/Detail.js","panels/main/Edit.js","panels/main/Home.js","panels/main/Feed.js","panels/main/Add.js","panels/main/Rating.js","store/actions/user.js","panels/main/Location.js","panels/main/Settings.js","panels/Main.js","panels/Welcome.js","App.js","store/reducers/user.js","store/reducers/food.js","index.js"],"names":["module","exports","updateObject","oldObject","updatedProperties","getGeoInfo","geo","coords","geometry","getCoordinates","bounds","properties","get","address","title","axios","defaults","baseURL","moment","locale","foodUpdate","token","id","food","dispatch","type","patch","headers","Authorization","then","res","foodUpdateSuccess","data","catch","err","console","log","response","connect","state","user","actions","foodDelete","delete","foodDeleteSuccess","error","isOwn","editFood","goBack","useState","isTaken","setIsTaken","left","onClick","size","style","marginTop","src","image","height","width","display","margin","alt","level","weight","marginLeft","before","viewBox","cx","cy","r","fill","className","end_date","fromNow","distance","location_title","toFixed","multiline","header","description","disabled","status","mode","href","vk_id","isLoading","loading","setPopout","userFood","duration_days","setImage","editedFood","setEditedFood","isValid","setIsValid","isSent","setIsSent","useEffect","onChange","e","currentTarget","name","value","controlSize","preventDefault","file","target","files","URL","createObjectURL","top","placeholder","valid","Object","values","some","x","JSON","stringify","FormData","keys","forEach","key","append","ownFood","own","foodOwn","message","activePanel","setActiveStory","selectedFood","setSelectedFood","homePanel","setHomePanel","historyPanel","setHistoryPanel","popout","length","updatedFood","find","item","history","pop","currentPanel","bridge","send","onSwipeBack","onRefresh","isFetching","separator","map","push","getDetails","image_preview","icon","action","stretched","nearestFood","nearest","foodNearest","feedPanel","setFeedPanel","Math","floor","foodCreate","post","foodPostSuccess","setFood","accept","submitFood","Rating","centered","rating","textAlign","color","userPostSuccess","userPostFail","userUpdate","put","userUpdateSuccess","locationCoords","onBackClick","suggestValue","setSuggestValue","suggestView","setSuggestView","yMaps","setYMaps","currentGeo","coordinates","geoLocation","setGeoLocation","mapRef","useRef","center","zoom","addSuggestItem","itemValue","geocode","firstGeoObject","geoObjects","current","setBounds","events","add","remove","split","country","city","location_coordinates","join","query","apikey","process","clickPos","onLoad","ymaps","SuggestView","onLoadMap","options","suppressMapOpenBlock","defaultState","modules","instanceRef","position","coordinate","firstName","lastName","avatar","locationTitle","radius","notificationStatus","userProfile","notifications_radius","notifications_status","settingsPanel","setSettingsPanel","profileValue","setProfileValue","caption","asideContent","checked","parseInt","marginBottom","role","aria-label","isAuth","userLogin","queryParams","query_params","activeStory","onStoryChange","dataset","story","tabbar","selected","data-story","userCreate","setFirstLaunch","scheme","isRegistered","setIsRegistered","galleryPage","setGalleryPage","lat","long","firstEntry","geoAvailable","setGeoAvailable","geoModal","setGeoModal","mapVisible","setMapVisible","vkUser","setVkUser","openModal","available","modal","activeModal","onClose","ref","behaviors","disable","first_name","last_name","avatar_url","photo_max_orig","localStorage","setItem","padding","FirstSlide","pizza","SecondSlide","person","ThirdSlide","home","slideWidth","bullets","number","slideIndex","page","renderButton","App","setScheme","setQueryParams","firstLauch","subscribe","detail","alreadyLaucned","getItem","window","location","search","isWebView","initialState","vkId","userPostStart","reducer","foodNearestStart","foodNearestSuccess","foodNearestFail","foodOwnStart","foodOwnSuccess","foodOwnFail","foodPostStart","foodPostFail","filter","foodDeleteFail","updatedIndex","findIndex","slice","foodUpdateFail","composeEnhances","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","userReducer","foodReducer","store","createStore","applyMiddleware","thunk","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.83728e2f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/rating.c486c897.png\";","module.exports = __webpack_public_path__ + \"static/media/pizza.cb0c15f6.png\";","module.exports = __webpack_public_path__ + \"static/media/person.fb7da079.png\";","module.exports = __webpack_public_path__ + \"static/media/home.6d96bdff.png\";","const updateObject = (oldObject, updatedProperties) => {\n  return {\n    ...oldObject,\n    ...updatedProperties,\n  };\n};\n\nexport default updateObject;\n","const getGeoInfo = (geo) => {\n  const coords = geo.geometry.getCoordinates();\n  const bounds = geo.properties.get(\"boundedBy\");\n  const address = geo.properties.get(\"description\");\n  const title = geo.properties.get(\"name\");\n  return { coords, bounds, address, title };\n};\n\nexport default getGeoInfo;\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://edadaromapp.ru\";\n\nexport default axios;\n","import moment from \"moment\";\nimport \"moment/locale/ru\";\n\nmoment.locale(\"ru\");\n\nexport default moment;\n","import { axios } from \"../../utils\";\nimport * as actionTypes from \"./actionTypes\";\n\nexport const foodNearestStart = () => {\n  return {\n    type: actionTypes.FOOD_NEAREST_START,\n  };\n};\n\nexport const foodNearestSuccess = (food) => {\n  return {\n    type: actionTypes.FOOD_NEAREST_SUCCESS,\n    food,\n  };\n};\n\nexport const foodNearestFail = (error) => {\n  return {\n    type: actionTypes.FOOD_NEAREST_FAIL,\n    error: error,\n  };\n};\n\nexport const foodOwnStart = () => {\n  return {\n    type: actionTypes.FOOD_OWN_START,\n  };\n};\n\nexport const foodOwnSuccess = (food) => {\n  return {\n    type: actionTypes.FOOD_OWN_SUCCESS,\n    food,\n  };\n};\n\nexport const foodOwnFail = (error) => {\n  return {\n    type: actionTypes.FOOD_OWN_FAIL,\n    error: error,\n  };\n};\n\nexport const foodPostStart = () => {\n  return {\n    type: actionTypes.FOOD_POST_START,\n  };\n};\n\nexport const foodPostSuccess = (food) => {\n  return {\n    type: actionTypes.FOOD_POST_SUCCESS,\n    food,\n  };\n};\n\nexport const foodPostFail = (error) => {\n  return {\n    type: actionTypes.FOOD_POST_FAIL,\n    error: error,\n  };\n};\n\nexport const foodDeleteSuccess = (id) => {\n  return {\n    type: actionTypes.FOOD_DELETE_SUCCESS,\n    id,\n  };\n};\n\nexport const foodDeleteFail = (error) => {\n  return {\n    type: actionTypes.FOOD_DELETE_FAIL,\n    error: error,\n  };\n};\n\nexport const foodUpdateSuccess = (food) => {\n  return {\n    type: actionTypes.FOOD_UPDATE_SUCCESS,\n    food,\n  };\n};\n\nexport const foodUpdateFail = (error) => {\n  return {\n    type: actionTypes.FOOD_UPDATE_FAIL,\n    error: error,\n  };\n};\n\nexport const foodNearest = (token) => {\n  return (dispatch) => {\n    dispatch(foodNearestStart());\n    axios\n      .get(\"/food/nearest/\", {\n        headers: { Authorization: `Token ${token}` },\n      })\n      .then((res) => {\n        dispatch(foodNearestSuccess(res.data));\n      })\n      .catch((err) => {\n        dispatch(foodNearestFail(err.message));\n      });\n  };\n};\n\nexport const foodOwn = (token) => {\n  return (dispatch) => {\n    dispatch(foodOwnStart());\n    axios\n      .get(\"/food/own/\", {\n        headers: { Authorization: `Token ${token}` },\n      })\n      .then((res) => {\n        dispatch(foodOwnSuccess(res.data));\n      })\n      .catch((err) => {\n        dispatch(foodOwnFail(err.message));\n      });\n  };\n};\n\nexport const foodCreate = (token, food) => {\n  return (dispatch) => {\n    dispatch(foodPostStart());\n    axios\n      .post(\"/food/\", food, {\n        headers: {\n          Authorization: `Token ${token}`,\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      })\n      .then((res) => {\n        dispatch(foodPostSuccess(res.data));\n      })\n      .catch((err) => {\n        console.log(err.response.data);\n      });\n  };\n};\n\nexport const foodUpdate = (token, id, food) => {\n  return (dispatch) => {\n    dispatch(foodPostStart());\n\n    axios\n      .patch(`/food/${id}/`, food, {\n        headers: {\n          Authorization: `Token ${token}`,\n        },\n      })\n      .then((res) => {\n        dispatch(foodUpdateSuccess(res.data));\n      })\n      .catch((err) => {\n        console.log(err.response);\n      });\n  };\n};\n\nexport const foodDelete = (token, id) => {\n  return (dispatch) => {\n    axios\n      .delete(`/food/${id}/`, {\n        headers: {\n          Authorization: `Token ${token}`,\n        },\n      })\n      .then(() => {\n        dispatch(foodDeleteSuccess(id));\n      })\n      .catch((err) => {\n        dispatch(foodDeleteFail(err.response.data));\n      });\n  };\n};\n","export const USER_POST_START = \"USER:POST_START\";\nexport const USER_POST_SUCCESS = \"USER:POST_SUCCESS\";\nexport const USER_POST_FAIL = \"USER:POST_FAIL\";\n\nexport const USER_GET_SUCCESS = \"USER:GET_SUCCESS\";\nexport const USER_GET_FAIL = \"USER:GET_FAIL\";\n\nexport const USER_UPDATE_SUCCESS = \"USER:UPDATE_SUCCESS\";\nexport const USER_UPDATE_FAIL = \"USER:UPDATE_FAIL\";\n\nexport const FOOD_NEAREST_START = \"FOOD:GET_NEAREST_START\";\nexport const FOOD_NEAREST_SUCCESS = \"FOOD:GET_NEAERST_SUCCESS\";\nexport const FOOD_NEAREST_FAIL = \"FOOD:GET_NEAERST_FAIL\";\n\nexport const FOOD_OWN_START = \"FOOD:GET_OWN_START\";\nexport const FOOD_OWN_SUCCESS = \"FOOD:GET_OWN_SUCCESS\";\nexport const FOOD_OWN_FAIL = \"FOOD:GET_OWN_FAIL\";\n\nexport const FOOD_POST_START = \"FOOD:POST_START\";\nexport const FOOD_POST_SUCCESS = \"FOOD:POST_SUCCESS\";\nexport const FOOD_POST_FAIL = \"FOOD:POST_FAIL\";\n\nexport const FOOD_DELETE_SUCCESS = \"FOOD:DELETE_SUCCESS\";\nexport const FOOD_DELETE_FAIL = \"FOOD:DELETE_FAIL\";\n\nexport const FOOD_UPDATE_SUCCESS = \"FOOD:UPDATE_SUCCESS\";\nexport const FOOD_UPDATE_FAIL = \"FOOD:UPDATE_FAIL\";\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport {\n  Button,\n  Panel,\n  PanelHeader,\n  PanelHeaderBack,\n  CardGrid,\n  Cell,\n  Title,\n  Text,\n  Card,\n  Group,\n  Div,\n  SimpleCell,\n  InfoRow,\n} from \"@vkontakte/vkui\";\nimport { moment } from \"../../utils\";\nimport Icon32Place from \"@vkontakte/icons/dist/32/place\";\nimport * as actions from \"../../store/actions/food\";\n\nconst Detail = ({\n  id,\n  token,\n  food,\n  isOwn,\n  editFood,\n  foodUpdate,\n  foodDelete,\n  goBack,\n}) => {\n  const [isTaken, setIsTaken] = useState(false);\n\n  const updateStatus = () => {\n    if (token && food) {\n      foodUpdate(token, food.id, { status: \"Done\" });\n      setIsTaken(true);\n    }\n  };\n\n  const deleteFood = () => {\n    if (token && food) {\n      foodDelete(token, food.id);\n      goBack();\n    }\n  };\n\n  return (\n    <Panel id={id}>\n      <PanelHeader left={<PanelHeaderBack onClick={() => goBack()} />}>\n        Подробнее\n      </PanelHeader>\n      {food && (\n        <>\n          <CardGrid>\n            <Card size=\"l\" style={{ marginTop: 14 }}>\n              <img\n                src={food.image}\n                style={{\n                  height: 193,\n                  width: \"auto\",\n                  display: \"block\",\n                  margin: \"0 auto\",\n                }}\n                alt=\"Product Preview\"\n              />\n            </Card>\n          </CardGrid>\n          <Group>\n            <Title level=\"2\" weight=\"semibold\" style={{ marginLeft: 16 }}>\n              {food.title}\n            </Title>\n\n            <Cell\n              before={\n                <svg\n                  width=\"14\"\n                  height=\"14\"\n                  viewBox=\"0 0 14 14\"\n                  style={{ marginTop: 6 }}\n                >\n                  <circle cx=\"7\" cy=\"7\" r=\"7\" fill=\"#B6F0B6\" />\n                  <circle cx=\"7\" cy=\"7\" r=\"4\" fill=\"#4BB34B\" />\n                </svg>\n              }\n            >\n              <Text\n                weight=\"regular\"\n                className=\"Text__Secondary\"\n                style={{ marginLeft: 8 }}\n              >\n                Активно еще {moment(food.end_date).fromNow(true)}\n              </Text>\n            </Cell>\n          </Group>\n          {food.distance && (\n            <Group>\n              <Cell before={<Icon32Place />}>\n                <Text weight=\"medium\">{food.user.location_title}</Text>\n                <Text weight=\"regular\" className=\"Text__Secondary\">\n                  {(food.distance.toFixed(1) / 1000).toFixed(2)} км от вас\n                </Text>\n              </Cell>\n            </Group>\n          )}\n          <Group>\n            <SimpleCell multiline>\n              <InfoRow header=\"Описание\">\n                {food.description ? food.description : \"Отсутствует \"}\n              </InfoRow>\n            </SimpleCell>\n          </Group>\n          <Group>\n            {!isOwn ? (\n              <Div>\n                <Button\n                  size=\"xl\"\n                  href={`https://vk.com/im?sel=${food.user.vk_id}`}\n                >\n                  Забрать\n                </Button>\n              </Div>\n            ) : (\n              <>\n                <Div>\n                  <Button disabled={isTaken} size=\"xl\" onClick={updateStatus}>\n                    Забрали\n                  </Button>\n                </Div>\n                <Div>\n                  <Button size=\"xl\" mode=\"secondary\" onClick={editFood}>\n                    Редактировать\n                  </Button>\n                </Div>\n                <Div>\n                  <Button\n                    size=\"xl\"\n                    mode=\"secondary\"\n                    className=\"Button__Remove\"\n                    onClick={deleteFood}\n                  >\n                    Удалить\n                  </Button>\n                </Div>\n              </>\n            )}\n          </Group>\n        </>\n      )}\n    </Panel>\n  );\n};\n\nDetail.propTypes = {\n  id: PropTypes.string.isRequired,\n  token: PropTypes.string,\n  food: PropTypes.object,\n  isOwn: PropTypes.bool,\n  editFood: PropTypes.func,\n  foodUpdate: PropTypes.func,\n  foodDelete: PropTypes.func,\n  goBack: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  token: state.user.token,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    foodUpdate: (token, id, food) =>\n      dispatch(actions.foodUpdate(token, id, food)),\n    foodDelete: (token, id) => dispatch(actions.foodDelete(token, id)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Detail);\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport {\n  Panel,\n  PanelHeader,\n  PanelHeaderBack,\n  CardGrid,\n  FormLayout,\n  FormStatus,\n  Input,\n  Select,\n  Textarea,\n  File,\n  Button,\n  ScreenSpinner,\n} from \"@vkontakte/vkui\";\nimport * as actions from \"../../store/actions/food\";\nimport Icon24AddOutline from \"@vkontakte/icons/dist/24/add_outline\";\nimport Icon24Write from \"@vkontakte/icons/dist/24/write\";\n\nconst Edit = ({\n  id,\n  token,\n  food,\n  isLoading,\n  goBack,\n  foodUpdate,\n  setPopout,\n}) => {\n  const userFood = {\n    title: food.title,\n    duration_days: food.duration_days,\n    description: food.description,\n    image: food.image,\n  };\n  const [image, setImage] = useState(null);\n  const [editedFood, setEditedFood] = useState({\n    title: food.title,\n    duration_days: food.duration_days,\n    description: food.description,\n    image: food.image,\n  });\n  const [isValid, setIsValid] = useState(true);\n  const [isSent, setIsSent] = useState(false);\n\n  useEffect(() => {\n    if (!isLoading && isValid && isSent) {\n      setPopout(null);\n      goBack();\n    }\n  }, [isLoading, isValid, isSent, setPopout, goBack]);\n\n  const onChange = (e) => {\n    const { name, value } = e.currentTarget;\n    setEditedFood({ ...editedFood, [name]: value });\n  };\n\n  const editFood = () => {\n    const valid = !Object.values(editedFood).some((x) => x === null);\n    setIsValid(valid);\n    if (\n      token &&\n      valid &&\n      JSON.stringify(editedFood) !== JSON.stringify(userFood)\n    ) {\n      const data = new FormData();\n      Object.keys(editedFood).forEach((key) =>\n        data.append(key, editedFood[key])\n      );\n      if (!image) {\n        data.delete(\"image\");\n      }\n      foodUpdate(token, food.id, data);\n      setIsSent(true);\n      setPopout(<ScreenSpinner />);\n    }\n  };\n\n  const uploadImage = (e) => {\n    e.preventDefault();\n    const file = e.target.files[0];\n    setEditedFood({ ...editedFood, image: file });\n    setImage(URL.createObjectURL(file));\n  };\n\n  const addImage = () => {\n    return (\n      <CardGrid>\n        <div className=\"Add__Preview\">\n          <img\n            style={{\n              height: 193,\n              width: \"auto\",\n              display: \"block\",\n              margin: \"0 auto\",\n            }}\n            src={image ? image : editedFood.image}\n            alt=\"Product Preview\"\n          />\n        </div>\n      </CardGrid>\n    );\n  };\n\n  return (\n    <Panel id={id}>\n      <PanelHeader left={<PanelHeaderBack onClick={() => goBack()} />}>\n        Изменить\n      </PanelHeader>\n      {editedFood.image && addImage()}\n      <FormLayout>\n        <File\n          mode=\"secondary\"\n          before={!editedFood.image ? <Icon24AddOutline /> : <Icon24Write />}\n          controlSize=\"xl\"\n          onChange={uploadImage}\n        >\n          {!editedFood.image ? \"Добавить фото\" : \"Изменить фото\"}\n        </File>\n        {!isValid && (\n          <FormStatus header=\"Обязательные поля\" mode=\"error\">\n            Необходимо корректно ввести все поля формы\n          </FormStatus>\n        )}\n\n        <Input\n          top=\"Название продукта\"\n          placeholder=\"Пельмени\"\n          name=\"title\"\n          onChange={onChange}\n          value={editedFood.title}\n        />\n\n        <Select\n          top=\"Срок размещения\"\n          placeholder=\"Кол-во дней\"\n          name=\"duration_days\"\n          onChange={onChange}\n          value={editedFood.duration_days}\n        >\n          <option value=\"1\">1 день</option>\n          <option value=\"2\">2 дня</option>\n          <option value=\"3\">3 дня</option>\n          <option value=\"4\">4 дня</option>\n          <option value=\"5\">5 дней</option>\n          <option value=\"6\">6 дней</option>\n          <option value=\"7\">Неделя</option>\n          <option value=\"14\">Две недели</option>\n        </Select>\n\n        <Textarea\n          top=\"Необязательно\"\n          placeholder=\"Любимые пельмени моей бабушки. Отдаю нуждающимся.\"\n          name=\"description\"\n          value={editedFood.description}\n          onChange={onChange}\n        />\n\n        <Button onClick={editFood} size=\"xl\">\n          Редактировать\n        </Button>\n      </FormLayout>\n    </Panel>\n  );\n};\n\nEdit.propTypes = {\n  id: PropTypes.string.isRequired,\n  token: PropTypes.string,\n  food: PropTypes.object,\n  isLoading: PropTypes.bool,\n  goBack: PropTypes.func.isRequired,\n  foodUpdate: PropTypes.func,\n  setPopout: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => ({\n  token: state.user.token,\n  isLoading: state.food.loading,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    foodUpdate: (token, id, food) =>\n      dispatch(actions.foodUpdate(token, id, food)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Edit);\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport {\n  View,\n  Panel,\n  PanelHeader,\n  Placeholder,\n  Button,\n  CardGrid,\n  Title,\n  Text,\n  Group,\n  Tappable,\n  PullToRefresh,\n} from \"@vkontakte/vkui\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport Icon56InfoOutline from \"@vkontakte/icons/dist/56/info_outline\";\nimport * as actions from \"../../store/actions/food\";\nimport { moment } from \"../../utils\";\n\nimport Detail from \"./Detail\";\nimport Edit from \"./Edit\";\n\nconst Home = ({\n  token,\n  id,\n  ownFood,\n  isLoading,\n  foodOwn,\n  activePanel,\n  setActiveStory,\n}) => {\n  const [selectedFood, setSelectedFood] = useState(null);\n  const [homePanel, setHomePanel] = useState(activePanel);\n  const [historyPanel, setHistoryPanel] = useState([activePanel]);\n  const [popout, setPopout] = useState(null);\n\n  useEffect(() => {\n    if (token && !ownFood.length) {\n      foodOwn(token);\n    }\n  }, [token, ownFood.length, foodOwn]);\n\n  useEffect(() => {\n    if (selectedFood) {\n      const updatedFood = ownFood.find((item) => item.id === selectedFood.id);\n      setSelectedFood(updatedFood);\n    }\n  }, [ownFood, selectedFood]);\n\n  const getDetails = (food) => {\n    const history = [...historyPanel];\n    history.push(\"detail\");\n    if (homePanel === activePanel) {\n      bridge.send(\"VKWebAppEnableSwipeBack\");\n    }\n    setSelectedFood(food);\n    setHistoryPanel(history);\n    setHomePanel(\"detail\");\n  };\n\n  const editFood = () => {\n    const history = [...historyPanel];\n    history.push(\"edit\");\n    if (homePanel === activePanel) {\n      bridge.send(\"VKWebAppEnableSwipeBack\");\n    }\n    setHistoryPanel(history);\n    setHomePanel(\"edit\");\n  };\n\n  const goBack = () => {\n    const history = [...historyPanel];\n    history.pop();\n    const currentPanel = history[history.length - 1];\n    if (currentPanel === activePanel) {\n      bridge.send(\"VKWebAppDisableSwipeBack\");\n    }\n    setHistoryPanel(history);\n    setHomePanel(currentPanel);\n  };\n\n  const onRefresh = () => {\n    if (token) {\n      foodOwn(token);\n    }\n  };\n\n  return (\n    <View\n      id={id}\n      popout={popout}\n      history={historyPanel}\n      activePanel={homePanel}\n      onSwipeBack={goBack}\n    >\n      <Panel id={id}>\n        <PanelHeader>Мои объявления</PanelHeader>\n        <PullToRefresh onRefresh={onRefresh} isFetching={isLoading}>\n          <Group separator=\"hide\">\n            {ownFood.length > 0 ? (\n              <CardGrid>\n                {ownFood.map((food) => (\n                  <Tappable key={food.id} onClick={() => getDetails(food)}>\n                    <div className=\"Card__Product\">\n                      <div className=\"Card__Product_image\">\n                        <img src={food.image_preview} alt=\"Product Preview\" />\n                      </div>\n                      <div className=\"Card__Product_info\">\n                        <Title\n                          level=\"2\"\n                          weight=\"semibold\"\n                          className=\"Card__Product_info_title\"\n                        >\n                          {food.title}\n                        </Title>\n                        <div className=\"Card__Product_info_text\">\n                          <svg\n                            width=\"14\"\n                            height=\"14\"\n                            viewBox=\"0 0 14 14\"\n                            style={{ marginLeft: 5 }}\n                          >\n                            <circle cx=\"7\" cy=\"7\" r=\"7\" fill=\"#B6F0B6\" />\n                            <circle cx=\"7\" cy=\"7\" r=\"4\" fill=\"#4BB34B\" />\n                          </svg>\n                          <Text\n                            weight=\"regular\"\n                            className=\"Text__Secondary\"\n                            style={{ marginLeft: 8 }}\n                          >\n                            Активно еще {moment(food.end_date).fromNow(true)}\n                          </Text>\n                        </div>\n                      </div>\n                    </div>\n                  </Tappable>\n                ))}\n              </CardGrid>\n            ) : (\n              <Placeholder\n                icon={<Icon56InfoOutline />}\n                action={\n                  <Button\n                    size=\"l\"\n                    mode=\"tertiary\"\n                    onClick={() => setActiveStory(\"add\")}\n                  >\n                    Опубликовать еду\n                  </Button>\n                }\n                stretched\n              >\n                У вас еще нет\n                <br />\n                выставленных объявлений\n              </Placeholder>\n            )}\n          </Group>\n        </PullToRefresh>\n      </Panel>\n\n      <Detail\n        id=\"detail\"\n        food={selectedFood}\n        editFood={editFood}\n        isOwn\n        goBack={goBack}\n      />\n\n      <Edit\n        id=\"edit\"\n        food={selectedFood}\n        setPopout={setPopout}\n        goBack={goBack}\n      />\n    </View>\n  );\n};\n\nHome.propTypes = {\n  id: PropTypes.string.isRequired,\n  activePanel: PropTypes.string.isRequired,\n  token: PropTypes.string,\n  ownFood: PropTypes.array,\n  isLoading: PropTypes.bool,\n  foodOwn: PropTypes.func,\n  setActiveStory: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => ({\n  token: state.user.token,\n  ownFood: state.food.own,\n  isLoading: state.food.loading,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    foodOwn: (token) => dispatch(actions.foodOwn(token)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport {\n  View,\n  Panel,\n  PanelHeader,\n  Placeholder,\n  CardGrid,\n  Title,\n  Text,\n  Group,\n  Tappable,\n  PullToRefresh,\n} from \"@vkontakte/vkui\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport Icon56InfoOutline from \"@vkontakte/icons/dist/56/info_outline\";\nimport Icon24Place from \"@vkontakte/icons/dist/24/place\";\nimport * as actions from \"../../store/actions/food\";\nimport { moment } from \"../../utils\";\n\nimport Detail from \"./Detail\";\n\nconst Feed = ({\n  id,\n  token,\n  activePanel,\n  isLoading,\n  nearestFood,\n  foodNearest,\n}) => {\n  const [selectedFood, setSelectedFood] = useState(null);\n  const [feedPanel, setFeedPanel] = useState(activePanel);\n  const [historyPanel, setHistoryPanel] = useState([activePanel]);\n\n  useEffect(() => {\n    if (token && !nearestFood.length) {\n      foodNearest(token);\n    }\n  }, [token, nearestFood.length, foodNearest]);\n\n  const getDetails = (food) => {\n    const history = [...historyPanel];\n    history.push(\"detail\");\n    if (feedPanel === activePanel) {\n      bridge.send(\"VKWebAppEnableSwipeBack\");\n    }\n    setSelectedFood(food);\n    setHistoryPanel(history);\n    setFeedPanel(\"detail\");\n  };\n\n  const goBack = () => {\n    const history = [...historyPanel];\n    history.pop();\n    const currentPanel = history[history.length - 1];\n    if (currentPanel === activePanel) {\n      bridge.send(\"VKWebAppDisableSwipeBack\");\n    }\n    setHistoryPanel(history);\n    setFeedPanel(activePanel);\n  };\n\n  const onRefresh = () => {\n    if (token) {\n      foodNearest(token);\n    }\n  };\n\n  return (\n    <View\n      id={id}\n      history={historyPanel}\n      activePanel={feedPanel}\n      onSwipeBack={goBack}\n    >\n      <Panel id={id}>\n        <PanelHeader>Еда даром</PanelHeader>\n        <PullToRefresh onRefresh={onRefresh} isFetching={isLoading}>\n          <Group separator=\"hide\">\n            {nearestFood.length > 0 ? (\n              <CardGrid>\n                {nearestFood.map((food) => (\n                  <Tappable key={food.id} onClick={() => getDetails(food)}>\n                    <div className=\"Card__Product\">\n                      <div className=\"Card__Product_image\">\n                        <img src={food.image_preview} alt=\"Product Preview\" />\n                      </div>\n                      <div className=\"Card__Product_info\">\n                        <Title\n                          level=\"2\"\n                          weight=\"semibold\"\n                          className=\"Card__Product_info_title\"\n                        >\n                          {food.title}\n                        </Title>\n                        <div className=\"Card__Product_info_text\">\n                          <Icon24Place className=\"Card__Icon\" />\n                          <Text weight=\"regular\" style={{ marginLeft: 4 }}>\n                            {Math.floor(food.distance)} метров\n                          </Text>\n                        </div>\n                        <div className=\"Card__Product_info_text\">\n                          <svg\n                            width=\"14\"\n                            height=\"14\"\n                            viewBox=\"0 0 14 14\"\n                            style={{ marginLeft: 5 }}\n                          >\n                            <circle cx=\"7\" cy=\"7\" r=\"7\" fill=\"#B6F0B6\" />\n                            <circle cx=\"7\" cy=\"7\" r=\"4\" fill=\"#4BB34B\" />\n                          </svg>\n                          <Text\n                            weight=\"regular\"\n                            className=\"Text__Secondary\"\n                            style={{ marginLeft: 8 }}\n                          >\n                            Активно еще {moment(food.end_date).fromNow(true)}\n                          </Text>\n                        </div>\n                      </div>\n                    </div>\n                  </Tappable>\n                ))}\n              </CardGrid>\n            ) : (\n              <Placeholder icon={<Icon56InfoOutline />} stretched>\n                Нет доступных предложений\n                <br />\n                рядом с вами\n              </Placeholder>\n            )}\n          </Group>\n        </PullToRefresh>\n      </Panel>\n\n      <Detail id=\"detail\" food={selectedFood} goBack={goBack} />\n    </View>\n  );\n};\n\nFeed.propTypes = {\n  id: PropTypes.string.isRequired,\n  token: PropTypes.string,\n  activePanel: PropTypes.string.isRequired,\n  isLoading: PropTypes.bool,\n  nearestFood: PropTypes.array,\n  foodNearest: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => ({\n  token: state.user.token,\n  nearestFood: state.food.nearest,\n  isLoading: state.food.loading,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    foodNearest: (token) => dispatch(actions.foodNearest(token)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Feed);\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport {\n  View,\n  Panel,\n  PanelHeader,\n  CardGrid,\n  FormLayout,\n  FormStatus,\n  Input,\n  Select,\n  Textarea,\n  File,\n  Button,\n  ScreenSpinner,\n} from \"@vkontakte/vkui\";\nimport * as actions from \"../../store/actions/food\";\nimport Icon24AddOutline from \"@vkontakte/icons/dist/24/add_outline\";\nimport Icon24Write from \"@vkontakte/icons/dist/24/write\";\n\nconst Add = ({ id, token, isLoading, setActiveStory, foodCreate }) => {\n  const [popout, setPopout] = useState(null);\n  const [image, setImage] = useState(null);\n  const [food, setFood] = useState({\n    title: null,\n    duration_days: null,\n    description: \"\",\n    image: null,\n  });\n  const [isValid, setIsValid] = useState(true);\n  const [isSent, setIsSent] = useState(false);\n\n  useEffect(() => {\n    if (!isLoading && isValid && isSent) {\n      setPopout(null);\n      setActiveStory(\"home\");\n    }\n  }, [isLoading, isValid, isSent, setActiveStory]);\n\n  const onChange = (e) => {\n    const { name, value } = e.currentTarget;\n    setFood({ ...food, [name]: value });\n  };\n\n  const submitFood = () => {\n    const valid = !Object.values(food).some((x) => x === null);\n    setIsValid(valid);\n    if (token && valid) {\n      const data = new FormData();\n      Object.keys(food).forEach((key) => data.append(key, food[key]));\n      foodCreate(token, data);\n      setIsSent(true);\n      setPopout(<ScreenSpinner />);\n    }\n  };\n\n  const uploadImage = (e) => {\n    e.preventDefault();\n    const file = e.target.files[0];\n    setFood({ ...food, image: file });\n    setImage(URL.createObjectURL(file));\n  };\n\n  const addImage = () => {\n    return (\n      <CardGrid>\n        <div className=\"Add__Preview\">\n          <img\n            style={{\n              height: 193,\n              width: \"auto\",\n              display: \"block\",\n              margin: \"0 auto\",\n            }}\n            src={image}\n            alt=\"Product Preview\"\n          />\n        </div>\n      </CardGrid>\n    );\n  };\n\n  return (\n    <View id={id} activePanel={id} popout={popout}>\n      <Panel id={id}>\n        <PanelHeader>Создать</PanelHeader>\n        {image && addImage()}\n        <FormLayout>\n          <File\n            mode=\"secondary\"\n            before={!image ? <Icon24AddOutline /> : <Icon24Write />}\n            controlSize=\"xl\"\n            onChange={uploadImage}\n            accept=\"image/jpeg,image/png\"\n          >\n            {!image ? \"Добавить фото\" : \"Изменить фото\"}\n          </File>\n          {!isValid && (\n            <FormStatus header=\"Обязательные поля\" mode=\"error\">\n              Необходимо корректно ввести все поля формы\n            </FormStatus>\n          )}\n\n          <Input\n            top=\"Название продукта\"\n            placeholder=\"Пельмени\"\n            name=\"title\"\n            onChange={onChange}\n          />\n\n          <Select\n            top=\"Срок размещения\"\n            placeholder=\"Кол-во дней\"\n            name=\"duration_days\"\n            onChange={onChange}\n          >\n            <option value=\"1\">1 день</option>\n            <option value=\"2\">2 дня</option>\n            <option value=\"3\">3 дня</option>\n            <option value=\"4\">4 дня</option>\n            <option value=\"5\">5 дней</option>\n            <option value=\"6\">6 дней</option>\n            <option value=\"7\">Неделя</option>\n            <option value=\"14\">Две недели</option>\n          </Select>\n\n          <Textarea\n            top=\"Необязательно\"\n            placeholder=\"Любимые пельмени моей бабушки. Отдаю нуждающимся.\"\n            name=\"description\"\n            onChange={onChange}\n          />\n          <Button onClick={() => submitFood()} size=\"xl\">\n            Опубликовать\n          </Button>\n        </FormLayout>\n      </Panel>\n    </View>\n  );\n};\n\nAdd.propTypes = {\n  id: PropTypes.string.isRequired,\n  token: PropTypes.string,\n  isLoading: PropTypes.bool,\n  setActiveStory: PropTypes.func,\n  foodCreate: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => ({\n  token: state.user.token,\n  isLoading: state.food.loading,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    foodCreate: (token, food) => dispatch(actions.foodCreate(token, food)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Add);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { View, Panel, PanelHeader, Text } from \"@vkontakte/vkui\";\nimport rating from \"../../img/rating.png\";\n\nconst Rating = ({ id, activePanel }) => {\n  return (\n    <View id={id} activePanel={activePanel}>\n      <Panel id={id} centered>\n        <PanelHeader>Рейтинг</PanelHeader>\n        <div className=\"Welcome__Icon\">\n          <img src={rating} alt=\"Rating Icon\" />\n        </div>\n        <Text\n          weight=\"regular\"\n          style={{ textAlign: \"center\", width: \"75%\", color: \"#404040\" }}\n        >\n          Скоро мы добавим рейтинги и каждый сможет доказать насколько он крут\n        </Text>\n      </Panel>\n    </View>\n  );\n};\n\nRating.propTypes = {\n  id: PropTypes.string.isRequired,\n  activePanel: PropTypes.string.isRequired,\n};\n\nexport default Rating;\n","import { axios } from \"../../utils\";\nimport * as actionTypes from \"./actionTypes\";\n\nexport const userPostStart = () => {\n  return {\n    type: actionTypes.USER_POST_START,\n  };\n};\n\nexport const userPostSuccess = (user) => {\n  return {\n    type: actionTypes.USER_POST_SUCCESS,\n    token: user.token,\n    user: user.user,\n  };\n};\n\nexport const userPostFail = (error) => {\n  return {\n    type: actionTypes.USER_POST_FAIL,\n    error: error,\n  };\n};\n\nexport const userUpdateSuccess = (user) => {\n  return {\n    type: actionTypes.USER_UPDATE_SUCCESS,\n    user: user,\n  };\n};\n\nexport const userCreate = (user) => {\n  return (dispatch) => {\n    dispatch(userPostStart());\n    axios\n      .post(\"/auth/create/\", user)\n      .then((res) => {\n        dispatch(userPostSuccess(res.data));\n      })\n      .catch((err) => {\n        dispatch(userPostFail(err.message));\n      });\n  };\n};\n\nexport const userLogin = (queryParams) => {\n  return (dispatch) => {\n    axios\n      .post(\"/auth/login/\", { query_params: queryParams })\n      .then((res) => {\n        dispatch(userPostSuccess(res.data));\n      })\n      .catch((err) => {\n        dispatch(userPostFail(err.message));\n      });\n  };\n};\n\nexport const userUpdate = (token, user) => {\n  return (dispatch) => {\n    axios\n      .put(\"/users/1/\", user, {\n        headers: { Authorization: `Token ${token}` },\n      })\n      .then((res) => {\n        const user = res.data;\n        dispatch(userUpdateSuccess(user));\n      })\n      .catch((err) => {\n        console.log(err.response.data);\n      });\n  };\n};\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport {\n  Search,\n  Panel,\n  PanelHeader,\n  PanelHeaderBack,\n  FixedLayout,\n} from \"@vkontakte/vkui\";\nimport { YMaps, Map, Placemark } from \"react-yandex-maps\";\nimport { getGeoInfo } from \"../../utils/\";\nimport * as actions from \"../../store/actions/user\";\n\nconst YANDEX_API_KEY = process.env.REACT_APP_YANDEX_API_KEY;\n\nconst Location = ({ id, token, locationCoords, userUpdate, onBackClick }) => {\n  const [suggestValue, setSuggestValue] = useState(\"\");\n  const [suggestView, setSuggestView] = useState();\n  const [yMaps, setYMaps] = useState();\n  const [geoLocation, setGeoLocation] = useState({\n    currentGeo: {},\n    coordinates: null,\n    title: null,\n    address: null,\n  });\n  const mapRef = useRef();\n\n  useEffect(() => {\n    if (locationCoords) {\n      setGeoLocation({\n        currentGeo: {\n          center: locationCoords,\n          zoom: 12,\n        },\n        coordinates: [locationCoords],\n      });\n    }\n  }, [locationCoords]);\n\n  useEffect(() => {\n    if (suggestView) {\n      const addSuggestItem = (e) => {\n        const itemValue = e.get(\"item\").value;\n        setSuggestValue(itemValue);\n        const result = yMaps.geocode(itemValue);\n        result.then((res) => {\n          const firstGeoObject = res.geoObjects.get(0);\n          const { coords, bounds, address, title } = getGeoInfo(firstGeoObject);\n          console.log(\"bounds\", bounds);\n          mapRef.current.setBounds(bounds);\n          setGeoLocation({\n            ...geoLocation,\n            coordinates: [coords],\n            address,\n            title,\n          });\n        });\n      };\n\n      suggestView.events.add(\"select\", addSuggestItem);\n\n      return () => {\n        suggestView.events.remove(\"select\", addSuggestItem);\n      };\n    }\n  }, [suggestView, yMaps, geoLocation]);\n\n  useEffect(() => {\n    if (token && geoLocation.coordinates && geoLocation.address) {\n      const [country, ...city] = geoLocation.address.split(\", \", 3);\n      const location_title = geoLocation.title;\n      const geo = {\n        type: \"Point\",\n        coordinates: geoLocation.coordinates[0],\n      };\n      const user = {\n        location_coordinates: geo,\n        country,\n        city: city.join(\", \"),\n        location_title,\n      };\n      userUpdate(token, user);\n    }\n  }, [token, userUpdate, geoLocation]);\n\n  const onLoadMap = (ymaps) => {\n    const suggestView = new ymaps.SuggestView(\"suggest\");\n    setSuggestView(suggestView);\n    setYMaps(ymaps);\n  };\n\n  const onMapClick = (e) => {\n    const clickPos = e.get(\"coords\");\n    const result = yMaps.geocode(clickPos);\n    result.then((res) => {\n      const firstGeoObject = res.geoObjects.get(0);\n      const { coords, bounds, address, title } = getGeoInfo(firstGeoObject);\n      mapRef.current.setBounds(bounds);\n      setGeoLocation({ ...geoLocation, coordinates: [coords], address, title });\n      setSuggestValue(address);\n    });\n  };\n\n  return (\n    <Panel id={id}>\n      <PanelHeader left={<PanelHeaderBack onClick={() => onBackClick()} />}>\n        Локация\n      </PanelHeader>\n      <FixedLayout style={{ width: \"100%\" }}>\n        <Search\n          type=\"text\"\n          id=\"suggest\"\n          value={suggestValue}\n          onChange={(e) => setSuggestValue(e.target.value)}\n          style={{ width: \"100%\" }}\n        />\n      </FixedLayout>\n\n      {geoLocation.coordinates && (\n        <YMaps query={{ apikey: YANDEX_API_KEY }}>\n          <Map\n            onClick={onMapClick}\n            onLoad={(ymaps) => onLoadMap(ymaps)}\n            options={{ suppressMapOpenBlock: true }}\n            defaultState={geoLocation.currentGeo}\n            modules={[\"SuggestView\", \"geocode\"]}\n            instanceRef={mapRef}\n            width=\"100%\"\n            height=\"85%\"\n            style={{ position: \"absolute\", width: \"100%\", height: \"85%\" }}\n          >\n            {geoLocation.coordinates.map((coordinate) => (\n              <Placemark key={coordinate} geometry={coordinate} />\n            ))}\n          </Map>\n        </YMaps>\n      )}\n    </Panel>\n  );\n};\n\nLocation.propTypes = {\n  id: PropTypes.string.isRequired,\n  token: PropTypes.string,\n  userUpdate: PropTypes.func,\n  onBackClick: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  token: state.user.token,\n  locationCoords: state.user.locationCoords,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    userUpdate: (token, user) => dispatch(actions.userUpdate(token, user)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Location);\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport {\n  View,\n  Panel,\n  PanelHeader,\n  RichCell,\n  Cell,\n  Switch,\n  Select,\n  FormLayout,\n  Avatar,\n  Text,\n  Group,\n  Tappable,\n  Div,\n  Link,\n} from \"@vkontakte/vkui\";\nimport Icon32Place from \"@vkontakte/icons/dist/32/place\";\nimport * as actions from \"../../store/actions/user\";\n\nimport Location from \"./Location\";\n\nconst Settings = ({\n  token,\n  id,\n  activePanel,\n  firstName,\n  lastName,\n  avatar,\n  city,\n  country,\n  radius,\n  locationTitle,\n  notificationStatus,\n  userUpdate,\n}) => {\n  const userProfile = {\n    notifications_radius: radius,\n    notifications_status: notificationStatus,\n  };\n  const [settingsPanel, setSettingsPanel] = useState(activePanel);\n  const [profileValue, setProfileValue] = useState({\n    notifications_radius: radius,\n    notifications_status: notificationStatus,\n  });\n\n  useEffect(() => {\n    setProfileValue({\n      notifications_radius: radius,\n      notifications_status: notificationStatus,\n    });\n  }, [radius, notificationStatus]);\n\n  useEffect(() => {\n    if (token && JSON.stringify(profileValue) !== JSON.stringify(userProfile)) {\n      userUpdate(token, profileValue);\n    }\n  }, [token, profileValue, userProfile, userUpdate]);\n\n  const onChangeStatus = (e) => {\n    const { name } = e.currentTarget;\n    setProfileValue({ ...profileValue, [name]: !profileValue[name] });\n  };\n\n  const onChangeRadius = (e) => {\n    const { name, value } = e.currentTarget;\n    setProfileValue({ ...profileValue, [name]: parseInt(value) });\n  };\n\n  const onBackClick = () => {\n    setSettingsPanel(id);\n  };\n\n  return (\n    <View id={id} activePanel={settingsPanel}>\n      <Panel id={id}>\n        <PanelHeader>Настройки</PanelHeader>\n        <RichCell\n          disabled\n          before={<Avatar size={72} src={avatar} />}\n          caption={country}\n        >\n          {firstName} {lastName}\n        </RichCell>\n        <Group>\n          <Cell\n            description=\"Получать уведомления о еде рядом.\"\n            asideContent={\n              <Switch\n                name=\"notifications_status\"\n                checked={profileValue[\"notifications_status\"]}\n                onChange={onChangeStatus}\n              />\n            }\n          >\n            Уведомления\n          </Cell>\n        </Group>\n        <Group>\n          <FormLayout>\n            <Select\n              name=\"notifications_radius\"\n              top=\"Радиус поиска\"\n              placeholder=\"Укажите радиус поиска еды\"\n              value={profileValue[\"notifications_radius\"]}\n              onChange={onChangeRadius}\n            >\n              <option value=\"1\">1 км</option>\n              <option value=\"2\">2 км</option>\n              <option value=\"3\">3 км</option>\n              <option value=\"4\">4 км</option>\n              <option value=\"5\">5 км</option>\n            </Select>\n          </FormLayout>\n        </Group>\n        <Group separator=\"hide\">\n          <Tappable onClick={() => setSettingsPanel(\"location\")}>\n            <Cell before={<Icon32Place />}>\n              <Text weight=\"medium\">{locationTitle}</Text>\n              <Text weight=\"regular\" className=\"Text__Secondary\">\n                {city}\n              </Text>\n            </Cell>\n          </Tappable>\n        </Group>\n\n        <Group>\n          <Div className=\"Settings__Footer\">\n            <Text>Наше сообщество:</Text>\n            <Link href=\"https://vk.com/eda_darom_app\">Еда даром</Link>\n            <Text style={{ marginTop: 4, marginBottom: 4 }}>\n              <span role=\"img\" aria-label=\"pizza\">\n                🍕\n              </span>\n            </Text>\n            <Text>Версия 0.1.2</Text>\n          </Div>\n        </Group>\n      </Panel>\n\n      <Location id=\"location\" onBackClick={onBackClick} />\n    </View>\n  );\n};\n\nSettings.propTypes = {\n  id: PropTypes.string.isRequired,\n  activePanel: PropTypes.string.isRequired,\n  token: PropTypes.string,\n  firstName: PropTypes.string,\n  lastName: PropTypes.string,\n  avatar: PropTypes.string,\n  city: PropTypes.string,\n  country: PropTypes.string,\n  radius: PropTypes.number,\n  locationTitle: PropTypes.string,\n  notificationStatus: PropTypes.bool,\n  userUpdate: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => ({\n  token: state.user.token,\n  firstName: state.user.firstName,\n  lastName: state.user.lastName,\n  city: state.user.city,\n  country: state.user.country,\n  avatar: state.user.avatar,\n  locationTitle: state.user.locationTitle,\n  radius: state.user.radius,\n  notificationStatus: state.user.notificationStatus,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    userUpdate: (token, user) => dispatch(actions.userUpdate(token, user)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { Epic, Tabbar, TabbarItem } from \"@vkontakte/vkui\";\nimport Icon28HomeOutline from \"@vkontakte/icons/dist/28/home_outline\";\nimport Icon28NewsfeedOutline from \"@vkontakte/icons/dist/28/newsfeed_outline\";\nimport Icon28AddCircleOutline from \"@vkontakte/icons/dist/28/add_circle_outline\";\nimport Icon28PollSquareOutline from \"@vkontakte/icons/dist/28/poll_square_outline\";\nimport Icon28SettingsOutline from \"@vkontakte/icons/dist/28/settings_outline\";\nimport { Home, Feed, Add, Rating, Settings } from \"./main\";\nimport * as actions from \"../store/actions/user\";\n\nconst Main = ({ isAuth, userLogin, queryParams }) => {\n  const [activeStory, setActiveStory] = useState(\"feed\");\n  const onStoryChange = (e) => {\n    setActiveStory(e.currentTarget.dataset.story);\n  };\n\n  useEffect(() => {\n    if (!isAuth && queryParams) {\n      userLogin(queryParams);\n    }\n  }, [isAuth, queryParams, userLogin]);\n\n  return (\n    <Epic\n      activeStory={activeStory}\n      tabbar={\n        <Tabbar>\n          <TabbarItem\n            onClick={onStoryChange}\n            selected={activeStory === \"home\"}\n            data-story=\"home\"\n          >\n            <Icon28HomeOutline />\n          </TabbarItem>\n          <TabbarItem\n            onClick={onStoryChange}\n            selected={activeStory === \"feed\"}\n            data-story=\"feed\"\n          >\n            <Icon28NewsfeedOutline />\n          </TabbarItem>\n          <TabbarItem\n            onClick={onStoryChange}\n            selected={activeStory === \"add\"}\n            data-story=\"add\"\n          >\n            <Icon28AddCircleOutline />\n          </TabbarItem>\n          <TabbarItem\n            onClick={onStoryChange}\n            selected={activeStory === \"rating\"}\n            data-story=\"rating\"\n          >\n            <Icon28PollSquareOutline />\n          </TabbarItem>\n          <TabbarItem\n            onClick={onStoryChange}\n            selected={activeStory === \"settings\"}\n            data-story=\"settings\"\n          >\n            <Icon28SettingsOutline />\n          </TabbarItem>\n        </Tabbar>\n      }\n    >\n      <Home id=\"home\" activePanel=\"home\" setActiveStory={setActiveStory} />\n      <Feed id=\"feed\" activePanel=\"feed\" />\n      <Add id=\"add\" activePanel=\"add\" setActiveStory={setActiveStory} />\n      <Rating id=\"rating\" activePanel=\"rating\" />\n      <Settings id=\"settings\" activePanel=\"settings\" />\n    </Epic>\n  );\n};\n\nMain.propTypes = {\n  isAuth: PropTypes.bool,\n  userLogin: PropTypes.func,\n  queryParams: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  isAuth: !!state.user.token,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    userLogin: (queryParams) => dispatch(actions.userLogin(queryParams)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { YMaps, Map, Placemark } from \"react-yandex-maps\";\n\nimport {\n  View,\n  Panel,\n  ModalRoot,\n  ModalCard,\n  PanelHeader,\n  Button,\n  Group,\n  Div,\n  Gallery,\n  Header,\n  Text,\n  Link,\n  ModalPageHeader,\n  Spinner,\n  Placeholder,\n  ScreenSpinner,\n} from \"@vkontakte/vkui\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport * as actions from \"../store/actions/user\";\n\nimport pizza from \"../img/pizza.png\";\nimport person from \"../img/person.png\";\nimport home from \"../img/home.png\";\n\nconst Welcome = ({\n  isLoading,\n  setFirstLaunch,\n  scheme,\n  queryParams,\n  userCreate,\n}) => {\n  const [popout, setPopout] = useState(null);\n  const [isRegistered, setIsRegistered] = useState(false);\n  const [galleryPage, setGalleryPage] = useState(0);\n  const [geoLocation, setGeoLocation] = useState({\n    lat: null,\n    long: null,\n    firstEntry: false,\n    currentGeo: {},\n    coordinates: null,\n  });\n  const [geoAvailable, setGeoAvailable] = useState(true);\n  const [geoModal, setGeoModal] = useState(null);\n  const [mapVisible, setMapVisible] = useState(false);\n  const [vkUser, setVkUser] = useState();\n\n  useEffect(() => {\n    if (!isLoading && isRegistered) {\n      setFirstLaunch(false);\n    }\n  }, [isLoading, isRegistered, setFirstLaunch]);\n\n  useEffect(() => {\n    if (galleryPage === 2) {\n      bridge\n        .send(\"VKWebAppGetUserInfo\")\n        .then((data) => {\n          setVkUser(data);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  }, [galleryPage]);\n\n  const openModal = () => {\n    bridge\n      .send(\"VKWebAppGetGeodata\")\n      .then((data) => {\n        // Обработка события в случае успеха\n        if (data.available) {\n          setGeoLocation({\n            lat: data.lat,\n            long: data.long,\n            firstEntry: false,\n            currentGeo: {\n              center: [data.lat, data.long],\n              zoom: 15,\n            },\n            coordinates: [[data.lat, data.long]],\n          });\n        } else {\n          setGeoAvailable(false);\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n        // Обработка события в случае ошибки\n      });\n    setGeoModal(\"geo\");\n  };\n\n  const createUser = () => {\n    if (vkUser) {\n      const user = {\n        vk_id: vkUser.id,\n        first_name: vkUser.first_name,\n        last_name: vkUser.last_name,\n        avatar_url: vkUser.photo_max_orig,\n        query_params: queryParams,\n      };\n      if (geoLocation && geoLocation.coordinates) {\n        const geo = {\n          type: \"Point\",\n          coordinates: geoLocation.currentGeo.center,\n        };\n        user.location_coordinates = geo;\n      }\n      localStorage.setItem(\"alreadyLaunched\", true);\n      userCreate(user);\n      setIsRegistered(true);\n      setPopout(<ScreenSpinner />);\n    }\n  };\n\n  const modal = (\n    <ModalRoot activeModal={geoModal}>\n      <ModalCard\n        id=\"geo\"\n        onClose={() => setGeoModal(null)}\n        header={<ModalPageHeader>Ты на карте</ModalPageHeader>}\n      >\n        {!mapVisible && geoAvailable && (\n          <div className=\"Welcome__Spinner_loading\">\n            <Spinner size=\"large\" />\n          </div>\n        )}\n        {!geoAvailable && (\n          <Placeholder>\n            К сожалению, мы не смогли определить вашу геопозицию, но вы всегда\n            можете изменить ее в настройках.\n          </Placeholder>\n        )}\n        {geoLocation.coordinates && (\n          <YMaps>\n            <div style={{ marginTop: 20, marginBottom: 12 }}>\n              <Map\n                width=\"100%\"\n                defaultState={geoLocation.currentGeo}\n                instanceRef={(ref) => {\n                  ref && ref.behaviors.disable(\"drag\") && setMapVisible(true);\n                }}\n              >\n                {geoLocation.coordinates.map((coordinate) => (\n                  <Placemark key={coordinate} geometry={coordinate} />\n                ))}\n              </Map>\n            </div>\n          </YMaps>\n        )}\n        <Button\n          size=\"l\"\n          stretched\n          onClick={createUser}\n          style={{ padding: \"4px 0px\" }}\n        >\n          Сохранить\n        </Button>\n        <div className=\"ModalCard__caption\" style={{ marginTop: 12 }}>\n          Нажимая на “Сохранить”, Вы принимаете{\" \"}\n          <Link href=\"https://vk.com/@eda_darom_app-publichnoe-soglashenie\">\n            пользовательское соглашение\n          </Link>{\" \"}\n          данного приложения\n        </div>\n      </ModalCard>\n    </ModalRoot>\n  );\n\n  const FirstSlide = () => (\n    <Panel id=\"welcome\" centered>\n      <div className=\"Welcome__Icon\">\n        <img src={pizza} alt=\"Pizza Icon\" />\n      </div>\n      <Text weight=\"regular\" className=\"Welcome__Text\" style={{ width: \"75%\" }}>\n        Ежегодно в мире выбрасывается около 884 млн тонн еды...\n      </Text>\n    </Panel>\n  );\n\n  const SecondSlide = () => (\n    <Panel id=\"welcome\" centered>\n      <div className=\"Welcome__Icon\">\n        <img src={person} alt=\"Soup Icon\" />\n      </div>\n      <Text weight=\"regular\" className=\"Welcome__Text\" style={{ width: \"70%\" }}>\n        Но зачем выбрасывать, если можно ее кому-нибудь отдать?\n      </Text>\n    </Panel>\n  );\n\n  const ThirdSlide = () => (\n    <Panel id=\"welcome\" centered>\n      <div className=\"Welcome__Icon\">\n        <img src={home} alt=\"Location Icon\" />\n      </div>\n      <Text weight=\"regular\" className=\"Welcome__Text\" style={{ width: \"75%\" }}>\n        Обменивайся лишней едой с теми, кто живет неподалеку.\n      </Text>\n    </Panel>\n  );\n\n  const renderButton = (page) => {\n    switch (page) {\n      case 0:\n        return (\n          <Button\n            size=\"l\"\n            stretched\n            className=\"Welcome__Button\"\n            onClick={() => setGalleryPage(1)}\n          >\n            Это ужасно!\n          </Button>\n        );\n      case 1:\n        return (\n          <Button\n            size=\"l\"\n            stretched\n            className=\"Welcome__Button\"\n            onClick={() => setGalleryPage(2)}\n          >\n            Действительно\n          </Button>\n        );\n      case 2:\n        return (\n          <Button\n            size=\"l\"\n            stretched\n            mode=\"commerce\"\n            className=\"Welcome__Button\"\n            onClick={openModal}\n          >\n            Определить локацию\n          </Button>\n        );\n      default:\n        return (\n          <Button size=\"l\" stretched>\n            Согласен!\n          </Button>\n        );\n    }\n  };\n  return (\n    <View activePanel=\"welcome\" modal={modal} popout={popout}>\n      <Panel id=\"welcome\">\n        <PanelHeader>Еда даром</PanelHeader>\n\n        <Group header={<Header mode=\"secondary\"></Header>}>\n          <Gallery\n            slideWidth=\"100%\"\n            className=\"Welcome__Gallery\"\n            bullets={scheme === \"space_gray\" ? \"light\" : \"dark\"}\n            onChange={(number) => setGalleryPage(number)}\n            slideIndex={galleryPage}\n          >\n            <FirstSlide />\n            <SecondSlide />\n            <ThirdSlide />\n          </Gallery>\n        </Group>\n\n        <Div style={{ display: \"flex\", marginTop: 15 }}>\n          {renderButton(galleryPage)}\n        </Div>\n      </Panel>\n    </View>\n  );\n};\n\nWelcome.propTypes = {\n  setFirstLaunch: PropTypes.func.isRequired,\n  queryParams: PropTypes.string,\n  userCreate: PropTypes.func,\n  isLoading: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  isLoading: state.user.loading,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    userCreate: (user) => dispatch(actions.userCreate(user)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Welcome);\n","import React, { useState, useEffect } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport { ConfigProvider } from \"@vkontakte/vkui\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\nimport { Welcome, Main } from \"./panels\";\n\nimport \"./assets/style.css\";\n\nconst App = () => {\n  const [scheme, setScheme] = useState(null);\n  const [queryParams, setQueryParams] = useState();\n  const [firstLauch, setFirstLaunch] = useState(false);\n\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        setScheme(data.scheme);\n      }\n    });\n\n    //  Init VK  Mini App\n    bridge.send(\"VKWebAppInit\");\n\n    let alreadyLaucned = localStorage.getItem(\"alreadyLaunched\");\n    console.log(alreadyLaucned);\n    console.log(\"yes\");\n    setQueryParams(window.location.search);\n\n    if (!alreadyLaucned) {\n      setFirstLaunch(true);\n    }\n  }, []);\n\n  if (firstLauch) {\n    return (\n      <ConfigProvider isWebView={true} scheme={scheme}>\n        <Welcome\n          setFirstLaunch={setFirstLaunch}\n          scheme={scheme}\n          queryParams={queryParams}\n        />\n      </ConfigProvider>\n    );\n  }\n\n  return (\n    <ConfigProvider isWebView={true} scheme={scheme}>\n      <Main queryParams={queryParams} />\n    </ConfigProvider>\n  );\n};\n\nexport default App;\n","import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../../utils\";\n\nconst initialState = {\n  token: null,\n  vkId: null,\n  firstName: null,\n  lastName: null,\n  city: null,\n  country: null,\n  avatar: null,\n  locationCoords: [],\n  locationTitle: null,\n  radius: null,\n  notificationStatus: null,\n  loading: false,\n};\n\nconst userPostStart = (state, action) => {\n  return updateObject(state, {\n    loading: true,\n  });\n};\n\nconst userPostSuccess = (state, action) => {\n  return updateObject(state, {\n    token: action.token,\n    vkId: action.user.properties.vk_id,\n    firstName: action.user.properties.first_name,\n    lastName: action.user.properties.last_name,\n    avatar: action.user.properties.avatar_url,\n    city: action.user.properties.city,\n    country: action.user.properties.country,\n    locationCoords: action.user.geometry.coordinates,\n    locationTitle: action.user.properties.location_title,\n    radius: action.user.properties.notifications_radius,\n    notificationStatus: action.user.properties.notifications_status,\n    loading: false,\n  });\n};\n\nconst userPostFail = (state, action) => {\n  return updateObject(state, {\n    error: action.error,\n    loading: false,\n  });\n};\n\nconst userUpdateSuccess = (state, action) => {\n  return updateObject(state, {\n    firstName: action.user.properties.first_name,\n    lastName: action.user.properties.last_name,\n    avatar: action.user.properties.avatar_url,\n    city: action.user.properties.city,\n    country: action.user.properties.country,\n    locationCoords: action.user.geometry.coordinates,\n    locationTitle: action.user.properties.location_title,\n    radius: action.user.properties.notifications_radius,\n    notificationStatus: action.user.properties.notifications_status,\n    loading: false,\n  });\n};\n// const userGetSuccess = (state, action) => {\n//   return updateObject(state, {\n//     loading: false,\n//   });\n// };\n\n// const userGetFail = (state, action) => {\n//   return updateObject(state, {\n//     error: action.error,\n//     loading: false,\n//   });\n// };\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.USER_POST_START:\n      return userPostStart(state, action);\n    case actionTypes.USER_POST_SUCCESS:\n      return userPostSuccess(state, action);\n    case actionTypes.USER_POST_FAIL:\n      return userPostFail(state, action);\n    case actionTypes.USER_UPDATE_SUCCESS:\n      return userUpdateSuccess(state, action);\n    // case actionTypes.USER_GET_SUCCESS:\n    //   return userGetSuccess(state, action);\n    // case actionTypes.USER_GET_FAIL:\n    //   return userGetFail(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../../utils\";\n\nconst initialState = {\n  own: [],\n  nearest: [],\n  loading: false,\n  error: null,\n};\n\nconst foodNearestStart = (state, action) => {\n  return updateObject(state, {\n    loading: true,\n  });\n};\n\nconst foodNearestSuccess = (state, action) => {\n  return updateObject(state, {\n    nearest: action.food,\n    loading: false,\n  });\n};\n\nconst foodNearestFail = (state, action) => {\n  return updateObject(state, {\n    loading: false,\n    error: action.error,\n  });\n};\n\nconst foodOwnStart = (state, action) => {\n  return updateObject(state, {\n    loading: true,\n  });\n};\n\nconst foodOwnSuccess = (state, action) => {\n  return updateObject(state, {\n    own: action.food,\n    loading: false,\n  });\n};\n\nconst foodOwnFail = (state, action) => {\n  return updateObject(state, {\n    loading: false,\n    error: action.error,\n  });\n};\n\nconst foodPostStart = (state, action) => {\n  return updateObject(state, {\n    loading: true,\n  });\n};\n\nconst foodPostSuccess = (state, action) => {\n  return updateObject(state, {\n    own: [...state.own, action.food],\n    loading: false,\n  });\n};\n\nconst foodPostFail = (state, action) => {\n  return updateObject(state, {\n    loading: false,\n    error: action.error,\n  });\n};\n\nconst foodDeleteSuccess = (state, action) => {\n  return updateObject(state, {\n    own: [...state.own.filter((food) => food.id !== action.id)],\n    loading: false,\n  });\n};\n\nconst foodDeleteFail = (state, action) => {\n  return updateObject(state, {\n    loading: false,\n    error: action.error,\n  });\n};\n\nconst foodUpdateSuccess = (state, action) => {\n  const updatedIndex = state.own.findIndex(\n    (item) => item.id === action.food.id\n  );\n  return updateObject(state, {\n    own: [\n      ...state.own.slice(0, updatedIndex),\n      action.food,\n      ...state.own.slice(updatedIndex + 1),\n    ],\n    loading: false,\n  });\n};\n\nconst foodUpdateFail = (state, action) => {\n  return updateObject(state, {\n    loading: false,\n    error: action.error,\n  });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.FOOD_NEAREST_START:\n      return foodNearestStart(state, action);\n    case actionTypes.FOOD_NEAREST_SUCCESS:\n      return foodNearestSuccess(state, action);\n    case actionTypes.FOOD_NEAREST_FAIL:\n      return foodNearestFail(state, action);\n    case actionTypes.FOOD_OWN_START:\n      return foodOwnStart(state, action);\n    case actionTypes.FOOD_OWN_SUCCESS:\n      return foodOwnSuccess(state, action);\n    case actionTypes.FOOD_OWN_FAIL:\n      return foodOwnFail(state, action);\n    case actionTypes.FOOD_POST_START:\n      return foodPostStart(state, action);\n    case actionTypes.FOOD_POST_SUCCESS:\n      return foodPostSuccess(state, action);\n    case actionTypes.FOOD_POST_FAIL:\n      return foodPostFail(state, action);\n    case actionTypes.FOOD_DELETE_SUCCESS:\n      return foodDeleteSuccess(state, action);\n    case actionTypes.FOOD_DELETE_FAIL:\n      return foodDeleteFail(state, action);\n    case actionTypes.FOOD_UPDATE_SUCCESS:\n      return foodUpdateSuccess(state, action);\n    case actionTypes.FOOD_UPDATE_FAIL:\n      return foodUpdateFail(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, compose, applyMiddleware, combineReducers } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\n\nimport App from \"./App\";\n\nimport userReducer from \"./store/reducers/user\";\nimport foodReducer from \"./store/reducers/food\";\n\nconst composeEnhances = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst rootReducer = combineReducers({\n  user: userReducer,\n  food: foodReducer,\n});\n\nconst store = createStore(rootReducer, composeEnhances(applyMiddleware(thunk)));\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nReactDOM.render(app, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}