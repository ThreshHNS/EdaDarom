{"ast":null,"code":"var _jsxFileName = \"/home/thresh/projects/EdaDarom/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport Root from \"@vkontakte/vkui/dist/components/Root/Root\";\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\nimport ScreenSpinner from \"@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport { Welcome, Main } from \"./panels\";\nimport \"./assets/style.css\";\n\nconst App = () => {\n  const [activePanel, setActivePanel] = useState(\"main\");\n  const [fetchedUser, setUser] = useState(null);\n  const [popout, setPopout] = useState( /*#__PURE__*/React.createElement(ScreenSpinner, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 40\n    }\n  }));\n  useEffect(() => {\n    bridge.subscribe(({\n      detail: {\n        type,\n        data\n      }\n    }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    let alreadyLaucned = localStorage.getItem(\"alreadyLaunched\");\n\n    if (!alreadyLaucned) {\n      localStorage.setItem(\"alreadyLaunched\", true);\n      setActivePanel(\"welcome\");\n    }\n\n    setPopout(null);\n  }, []);\n\n  const go = e => {\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n\n  return /*#__PURE__*/React.createElement(Root, {\n    activeView: activePanel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Welcome, {\n    id: \"welcome\",\n    activePanel: activePanel,\n    setActivePanel: setActivePanel,\n    popout: popout,\n    fetchedUser: fetchedUser,\n    go: go,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Main, {\n    id: \"main\",\n    activePanel: activePanel,\n    popout: popout,\n    go: go,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/thresh/projects/EdaDarom/src/App.js"],"names":["React","useState","useEffect","bridge","Root","View","ScreenSpinner","Welcome","Main","App","activePanel","setActivePanel","fetchedUser","setUser","popout","setPopout","subscribe","detail","type","data","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","alreadyLaucned","localStorage","getItem","setItem","go","e","currentTarget","dataset","to"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,IAAP,MAAiB,2CAAjB;AACA,OAAOC,IAAP,MAAiB,2CAAjB;AACA,OAAOC,aAAP,MAA0B,6DAA1B;AACA,OAAO,+BAAP;AAEA,SAASC,OAAT,EAAkBC,IAAlB,QAA8B,UAA9B;AAEA,OAAO,oBAAP;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAChB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAAC,MAAD,CAA9C;AACA,QAAM,CAACW,WAAD,EAAcC,OAAd,IAAyBZ,QAAQ,CAAC,IAAD,CAAvC;AACA,QAAM,CAACa,MAAD,EAASC,SAAT,IAAsBd,QAAQ,eAAC,oBAAC,aAAD;AAAe,IAAA,IAAI,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAD,CAApC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,MAAM,CAACa,SAAP,CAAiB,CAAC;AAAEC,MAAAA,MAAM,EAAE;AAAEC,QAAAA,IAAF;AAAQC,QAAAA;AAAR;AAAV,KAAD,KAAgC;AAC/C,UAAID,IAAI,KAAK,sBAAb,EAAqC;AACnC,cAAME,eAAe,GAAGC,QAAQ,CAACC,eAAT,CAAyB,QAAzB,CAAxB;AACAF,QAAAA,eAAe,CAACG,KAAhB,GAAwBJ,IAAI,CAACK,MAAL,GAAcL,IAAI,CAACK,MAAnB,GAA4B,cAApD;AACAH,QAAAA,QAAQ,CAACI,IAAT,CAAcC,UAAd,CAAyBC,YAAzB,CAAsCP,eAAtC;AACD;AACF,KAND;AAOA,QAAIQ,cAAc,GAAGC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAArB;;AACA,QAAI,CAACF,cAAL,EAAqB;AACnBC,MAAAA,YAAY,CAACE,OAAb,CAAqB,iBAArB,EAAwC,IAAxC;AACApB,MAAAA,cAAc,CAAC,SAAD,CAAd;AACD;;AACDI,IAAAA,SAAS,CAAC,IAAD,CAAT;AACD,GAdQ,EAcN,EAdM,CAAT;;AAgBA,QAAMiB,EAAE,GAAIC,CAAD,IAAO;AAChBtB,IAAAA,cAAc,CAACsB,CAAC,CAACC,aAAF,CAAgBC,OAAhB,CAAwBC,EAAzB,CAAd;AACD,GAFD;;AAIA,sBACE,oBAAC,IAAD;AAAM,IAAA,UAAU,EAAE1B,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AACE,IAAA,EAAE,EAAC,SADL;AAEE,IAAA,WAAW,EAAEA,WAFf;AAGE,IAAA,cAAc,EAAEC,cAHlB;AAIE,IAAA,MAAM,EAAEG,MAJV;AAKE,IAAA,WAAW,EAAEF,WALf;AAME,IAAA,EAAE,EAAEoB,EANN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eASE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,MAAT;AAAgB,IAAA,WAAW,EAAEtB,WAA7B;AAA0C,IAAA,MAAM,EAAEI,MAAlD;AAA0D,IAAA,EAAE,EAAEkB,EAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CADF;AAaD,CAtCD;;AAwCA,eAAevB,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport Root from \"@vkontakte/vkui/dist/components/Root/Root\";\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\nimport ScreenSpinner from \"@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\nimport { Welcome, Main } from \"./panels\";\n\nimport \"./assets/style.css\";\n\nconst App = () => {\n  const [activePanel, setActivePanel] = useState(\"main\");\n  const [fetchedUser, setUser] = useState(null);\n  const [popout, setPopout] = useState(<ScreenSpinner size=\"large\" />);\n\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    let alreadyLaucned = localStorage.getItem(\"alreadyLaunched\");\n    if (!alreadyLaucned) {\n      localStorage.setItem(\"alreadyLaunched\", true);\n      setActivePanel(\"welcome\");\n    }\n    setPopout(null);\n  }, []);\n\n  const go = (e) => {\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n\n  return (\n    <Root activeView={activePanel}>\n      <Welcome\n        id=\"welcome\"\n        activePanel={activePanel}\n        setActivePanel={setActivePanel}\n        popout={popout}\n        fetchedUser={fetchedUser}\n        go={go}\n      />\n      <Main id=\"main\" activePanel={activePanel} popout={popout} go={go} />\n    </Root>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}